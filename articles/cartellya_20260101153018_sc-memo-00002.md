---
title: "アクセス制御"
emoji: "✅"
type: "idea" # tech: 技術記事 / idea: アイデア
topics: ["学習記録"]
published: true
---

# はじめに

令和7年秋期試験では、惜しくも3点差で不合格となりました。
非常にやるせない気持ちもありましたが、引き続き努力するしかありません。
ただ、冷静に考えると1点差ではなかったため、前向きに捉えることにしました。

次は、情報処理安全確保支援士試験の初回CBT試験に臨みます。
過去問の出題形式、試験中のメモの取り方、開催日時など、従来の試験とは異なる点がいくつかあり、慣れない部分もあります。
そのため、自身の準備状況を評価する際には、より厳しく見積もる必要があると感じています。
なお、このように内容を整理してブログにまとめることは、CBTにおける記述式問題の回答練習にもなると考えています。

# アクセス制御

システムやデータなどの情報資源に対して、アクセスの可否を制御する仕組みです。

## 識別（Identification）

アクセス主体を特定することを指します。
利用者ID、パスワード、証明書など、識別および認証に用いられる情報を「クレデンシャル（資格情報、認証情報）」と呼びます。

### IDの管理

* アクセス主体を一意に特定することを目的とします。
* IDの共同利用は認めません。
* 他者との貸与や共有を禁止します。
* ID発行時の申請・承認手続きや、不要となった際の抹消手続きなどの運用ルールを定め、厳格に遵守します。

### 特権ID

* 管理者など、特別な権限が付与されたIDです。
* 権限付与にあたっては、「最小権限の原則」に従います。
* 管理者が複数いる場合は、複数人が関与しなければ利用できないよう権限を分掌し、相互牽制を図ります。
* 利用申請書による事前申請制や、業務日報などによる記録を残し、ログと突き合わせて確認できる仕組みを整備する必要があります。

  * ログ自体の操作権限を付与してはならず、改ざん防止の仕組みを確保することが重要です。

## 認証（Authentication）

識別された主体が提示する資格情報を検証し、その主体が正当な本人であるかを確認します。

### 認証技術

* パスワード認証
* 生体認証
* IEEE 802.1X認証
* ICカードによる認証
* FIDO認証

### 認証三要素

| 分類      | 覚え方                   | 例             |
| ------- | --------------------- | ------------- |
| 知識・記憶情報 | 知っていること、本人だけが知り得る情報   | パスワード、PIN     |
| 所持情報    | 持っているもの、本人だけが所有しているもの | ICカード、スマートフォン |
| 生体情報    | 自分自身、本人だけが有している身体的特徴  | 指紋、顔、虹彩       |

### 認証方式

| 方式                                       | 概要                                |
| ---------------------------------------- | --------------------------------- |
| 単要素認証（Single-Factor Authentication, SFA） | 1つの認証要素のみで本人確認を行う方式               |
| 二要素認証（Two-Factor Authentication, 2FA）    | 異なる2種類の認証要素を組み合わせる方式              |
| 多要素認証（Multi-Factor Authentication, MFA）  | 2種類以上の認証要素を組み合わせる方式（総称）           |
| リスクベース認証                                 | 利用状況や振る舞いからリスクを評価し、認証強度を動的に変更する方式 |
| ステップアップ認証                                | 処理内容や重要度に応じて、段階的に認証を追加する方式        |

:::message
「二要素 ⊂ 多要素」

二要素認証：ちょうど2種類
多要素認証：2種類以上（包括概念）
:::

:::message alert
「同一分類の要素を複数用いても多要素認証にはならない」
例：パスワード＋秘密の質問 → 単要素認証
:::

### 3Dセキュア（3-D Secure）

* 目的：クレジットカードの不正利用防止
* 仕組み：

  * カード決済時に、カード発行会社（イシュア）側で本人認証を実施
  * パスワード、生体認証、ワンタイムパスワードなどを使用
  * 近年はリスクベース認証が主流（3Dセキュア2.0）

### シングルサインオン（SSO）

* 目的：

  * 利便性の向上（認証回数の削減）
  * 認証情報の集中管理
  * 複数の業務システム間の連携（**同一組織内**）
* 仕組み：

  * 初回ログインで認証状態を確立（**ログインは1回のみ**）
  * 以降は、認証済み状態を他システムが信頼して利用
* 実装方式：

  * エージェント方式
  * リバースプロキシ方式
  * 代理認証方式
  * IDフェデレーション（複数組織間で利用可能だが、同一組織内の複数システムでも利用可能）
  * Kerberos認証方式

### IDフェデレーション

* 目的：

  * **組織やサービスをまたいだ**認証情報の連携
  * 利用者のID管理負荷の軽減
* 仕組み：

  * IdP（Identity Provider）：認証を実施する主体
  * SP（Service Provider）：認証結果を利用する主体
* 代表的な技術：

  * SAML
  * OpenID Connect
  * OAuth 2.0（認可）

## 認可（Authorization）

認証済みの主体に対して、利用可能なリソースや操作範囲（権限の有無）を決定します。
言い換えると、正当な利用者に正当な権限を付与することです。

### アクセス権付与の原則

* 責務の分離の原則（権限分掌）：重要な業務や権限を複数人（複数の役割）に分け、不正や誤りを防止します。
* 最小権限の原則：業務に必要な最小限の権限のみを付与し、被害の拡大を防止します。

### アクセス制御の種類

* 任意アクセス制御（Discretionary Access Control, DAC）：情報の所有者が、利用者ごとにアクセス権を設定する方式
* 強制アクセス制御（Mandatory Access Control, MAC）：管理者が定めた機密レベルや規則（セキュリティポリシー）に基づき、強制的にアクセスを制御する方式
* ロールベースアクセス制御（Role-Based Access Control, RBAC）：利用者の役割（ロール）に応じてアクセス権を付与する方式

## AAAフレームワーク

認証（Authentication）、認可（Authorization）、アカウンティング（Accounting）の三要素から構成されます。
アクセス制御に加え、利用状況の記録や課金管理（アカウンティング）までを含む概念です。
これら三要素を実装した代表的なプロトコルとして、RADIUSやDIAMETERがあります。

## IAM（Identity and Access Management）

「誰が（Identity）」「どのリソースに（Access）」「何をしてよいか（Management）」を適切に設定・管理するための仕組みです。

### 使われる主な用語

クラウドサービス（特にAWSなど）の文脈で頻繁に使用される用語です。

* IAMユーザー：操作を行う「人」や「プログラム」に割り当てられる個別のアカウント
* IAMグループ：ユーザーをまとめた単位（例：「開発部」「経理部」）。グループに権限を付与することで一括管理が可能
* IAMポリシー：「何を許可し、何を拒否するか」を記述したルール
* IAMロール：一時的に特定の権限を付与する仕組み。人だけでなく、サーバーなどのリソースに権限を与える際にも使用されます

### 経緯

従来、企業内ではディレクトリサービスが広く利用されてきました。利用者IDの一元管理や認証を目的として、オンプレミス型のIAM環境が構築されてきました。

近年では、クラウドサービスの利用拡大やテレワークの進展により、ゼロトラストの考え方が主流となり、IDaaS（Identity as a Service）の利用が広がっています。

| 比較項目       | ディレクトリサービス  | オンプレミス型IAM        | IDaaS |
| :--------- | :------------------- | :---------------- | :--------------------- |
| **主な用途**   | 社内PC・端末・Windows環境の管理 | 自社専用の複雑な権限・規程管理   | クラウドアプリ（SaaS）のSSO、外部連携認証   |
| **導入場所**   | 社内サーバー       | 社内サーバー    | クラウド（SaaS型）            |
| **導入スピード** | 中（インフラ構築が必要）         | 低（要件定義や開発に時間を要する） | 高（サインアップ後すぐに利用可能）      |
| **運用負荷**   | 高（パッチ適用やハードウェア更新が必要） | 非常に高い（専門スキルが必須）   | 低（基盤はベンダーが保守）          |
| **外部連携**   | 苦手（VPNなどが必要）         | 構築次第だが高コスト        | 得意（SAML／OIDCに標準対応）     |
| **推奨環境**   | 拠点内限定のオフィスワーク        | 高い独自性が求められるレガシー環境 | テレワーク・マルチデバイス環境        |
